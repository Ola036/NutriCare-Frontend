{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\olaah\\\\Downloads\\\\project\\\\src\\\\contexts\\\\UserContext.js\";\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { ENDPOINTS } from '../config/constants';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserContext = /*#__PURE__*/createContext();\nexport function useUser() {\n  return useContext(UserContext);\n}\nexport function UserProvider({\n  children\n}) {\n  const [user, setUser] = useState(null);\n  const [, setLoading] = useState(true);\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      api({\n        url: ENDPOINTS.USER.PROFILE,\n        method: 'GET',\n        onSuccess: data => {\n          setUser(data, token);\n        },\n        onError: () => {\n          setUser(null);\n        },\n        onEnd: () => {\n          setLoading(false);\n        }\n      });\n    } else {\n      setLoading(false);\n    }\n  }, []);\n  const login = (userData, token) => {\n    localStorage.setItem('token', token);\n    setUser(userData);\n  };\n  const logout = () => {\n    localStorage.removeItem('token');\n    setUser(null);\n  };\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      user,\n      login,\n      logout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","ENDPOINTS","api","jsxDEV","_jsxDEV","UserContext","useUser","UserProvider","children","user","setUser","setLoading","token","localStorage","getItem","url","USER","PROFILE","method","onSuccess","data","onError","onEnd","login","userData","setItem","logout","removeItem","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/Users/olaah/Downloads/project/src/contexts/UserContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { ENDPOINTS } from '../config/constants';\nimport api from '../services/api';\n\nconst UserContext = createContext();\n\nexport function useUser() {\n  return useContext(UserContext);\n}\n\nexport function UserProvider({ children }) {\n  const [user, setUser] = useState(null);\n  const [, setLoading] = useState(true);\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n\n    if (token) {\n      api({\n        url: ENDPOINTS.USER.PROFILE,\n        method: 'GET',\n        onSuccess: (data) => {\n          setUser(data, token);\n        },\n        onError: () => {\n          setUser(null);\n        },\n        onEnd: () => {\n          setLoading(false);\n        }\n      });\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  const login = (userData, token) => {\n    localStorage.setItem('token', token);\n    setUser(userData);\n  }\n\n  const logout = () => {\n    localStorage.removeItem('token');\n    setUser(null);\n  }\n\n  return (\n    <UserContext.Provider value={{\n      user,\n      login,\n      logout\n    }}>\n      {children}\n    </UserContext.Provider>\n  );\n}\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC7E,SAASC,SAAS,QAAQ,qBAAqB;AAC/C,OAAOC,GAAG,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,MAAMC,WAAW,gBAAGR,aAAa,CAAC,CAAC;AAEnC,OAAO,SAASS,OAAOA,CAAA,EAAG;EACxB,OAAOR,UAAU,CAACO,WAAW,CAAC;AAChC;AAEA,OAAO,SAASE,YAAYA,CAAC;EAAEC;AAAS,CAAC,EAAE;EACzC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,GAAGY,UAAU,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAErCC,SAAS,CAAC,MAAM;IACd,MAAMY,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAE3C,IAAIF,KAAK,EAAE;MACTV,GAAG,CAAC;QACFa,GAAG,EAAEd,SAAS,CAACe,IAAI,CAACC,OAAO;QAC3BC,MAAM,EAAE,KAAK;QACbC,SAAS,EAAGC,IAAI,IAAK;UACnBV,OAAO,CAACU,IAAI,EAAER,KAAK,CAAC;QACtB,CAAC;QACDS,OAAO,EAAEA,CAAA,KAAM;UACbX,OAAO,CAAC,IAAI,CAAC;QACf,CAAC;QACDY,KAAK,EAAEA,CAAA,KAAM;UACXX,UAAU,CAAC,KAAK,CAAC;QACnB;MACF,CAAC,CAAC;IACJ,CAAC,MAAM;MACLA,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMY,KAAK,GAAGA,CAACC,QAAQ,EAAEZ,KAAK,KAAK;IACjCC,YAAY,CAACY,OAAO,CAAC,OAAO,EAAEb,KAAK,CAAC;IACpCF,OAAO,CAACc,QAAQ,CAAC;EACnB,CAAC;EAED,MAAME,MAAM,GAAGA,CAAA,KAAM;IACnBb,YAAY,CAACc,UAAU,CAAC,OAAO,CAAC;IAChCjB,OAAO,CAAC,IAAI,CAAC;EACf,CAAC;EAED,oBACEN,OAAA,CAACC,WAAW,CAACuB,QAAQ;IAACC,KAAK,EAAE;MAC3BpB,IAAI;MACJc,KAAK;MACLG;IACF,CAAE;IAAAlB,QAAA,EACCA;EAAQ;IAAAsB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}