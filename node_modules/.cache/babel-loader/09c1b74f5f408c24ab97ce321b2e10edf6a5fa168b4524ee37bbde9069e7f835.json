{"ast":null,"code":"import React,{useState}from'react';import{Form,Button,Card,Container}from'react-bootstrap';import{Link,useNavigate}from'react-router-dom';import{ENDPOINTS}from'../../../config/constants';import{useUser}from'../../../contexts/UserContext';import api from'../../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){const navigate=useNavigate();const{login}=useUser();const[loading,setLoading]=useState(false);const[errors,setErrors]=useState({});const[email,setEmail]=useState('');const[password,setPassword]=useState('');async function submit(e){e.preventDefault();setErrors({});setLoading(true);api({url:ENDPOINTS.USER.AUTH.LOGIN,method:'POST',body:{email,password},onSuccess:(data,toast)=>{login(data.user,data.token);toast.success('Logged in successfully!');navigate('/');},onError:errors=>{setErrors(errors);},onEnd:()=>{setLoading(false);}});}return/*#__PURE__*/_jsx(Container,{className:\"d-flex align-items-center justify-content-center\",style:{minHeight:'100vh',backgroundImage:`url('/images/background.svg')`,// Set your background image path\nbackgroundSize:'cover',// Ensure it covers the container\nbackgroundRepeat:'no-repeat',// Avoid repetition\nbackgroundPosition:'center'// Center the image\n},children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-100\",style:{maxWidth:'400px'},children:[/*#__PURE__*/_jsx(Card,{className:\"shadow-sm\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4\",children:\"Log In\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:submit,children:[/*#__PURE__*/_jsxs(Form.Group,{id:\"email\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",required:true,value:email,onChange:e=>setEmail(e.target.value),isInvalid:!!errors.email}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:errors.email})]}),/*#__PURE__*/_jsxs(Form.Group,{id:\"password\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",required:true,value:password,onChange:e=>setPassword(e.target.value),isInvalid:!!errors.password}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:errors.password})]}),/*#__PURE__*/_jsx(Button,{disabled:loading,className:\"w-100\",type:\"submit\",children:loading?'Logging in...':'Log In'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-100 text-center mt-3\",children:/*#__PURE__*/_jsx(Link,{to:\"/forgot-password\",children:\"Forgot Password?\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 text-center mt-2\",children:[\"Need an account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})]})]})});}","map":{"version":3,"names":["React","useState","Form","Button","Card","Container","Link","useNavigate","ENDPOINTS","useUser","api","jsx","_jsx","jsxs","_jsxs","Login","navigate","login","loading","setLoading","errors","setErrors","email","setEmail","password","setPassword","submit","e","preventDefault","url","USER","AUTH","LOGIN","method","body","onSuccess","data","toast","user","token","success","onError","onEnd","className","style","minHeight","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","children","maxWidth","Body","onSubmit","Group","id","Label","Control","type","required","value","onChange","target","isInvalid","Feedback","disabled","to"],"sources":["C:/Users/olaah/Downloads/project/src/components/User/Auth/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Form, Button, Card, Container } from 'react-bootstrap';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { ENDPOINTS } from '../../../config/constants';\nimport { useUser } from '../../../contexts/UserContext';\nimport api from '../../../services/api';\n\nexport default function Login() {\n  const navigate = useNavigate();\n  const { login } = useUser();\n\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  async function submit(e) {\n    e.preventDefault();\n\n    setErrors({});\n    setLoading(true);\n\n    api(\n      {\n        url: ENDPOINTS.USER.AUTH.LOGIN,\n        method: 'POST',\n        body: {\n          email,\n          password,\n        },\n        onSuccess: (data, toast) => {\n          login(data.user, data.token);\n          toast.success('Logged in successfully!');\n          navigate('/');\n        },\n        onError: (errors) => {\n          setErrors(errors);\n        },\n        onEnd: () => {\n          setLoading(false);\n        },\n      }\n    );\n  }\n\n  return (\n    <Container\n      className=\"d-flex align-items-center justify-content-center\"\n      style={{\n        minHeight: '100vh',\n        backgroundImage: `url('/images/background.svg')`, // Set your background image path\n        backgroundSize: 'cover', // Ensure it covers the container\n        backgroundRepeat: 'no-repeat', // Avoid repetition\n        backgroundPosition: 'center', // Center the image\n      }}\n    >\n      <div className=\"w-100\" style={{ maxWidth: '400px' }}>\n        <Card className=\"shadow-sm\">\n          <Card.Body>\n            <h2 className=\"text-center mb-4\">Log In</h2>\n            <Form onSubmit={submit}>\n              <Form.Group id=\"email\" className=\"mb-3\">\n                <Form.Label>Email</Form.Label>\n                <Form.Control\n                  type=\"email\"\n                  required\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  isInvalid={!!errors.email}\n                />\n                <Form.Control.Feedback type=\"invalid\">\n                  {errors.email}\n                </Form.Control.Feedback>\n              </Form.Group>\n\n              <Form.Group id=\"password\" className=\"mb-3\">\n                <Form.Label>Password</Form.Label>\n                <Form.Control\n                  type=\"password\"\n                  required\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  isInvalid={!!errors.password}\n                />\n                <Form.Control.Feedback type=\"invalid\">\n                  {errors.password}\n                </Form.Control.Feedback>\n              </Form.Group>\n\n              <Button disabled={loading} className=\"w-100\" type=\"submit\">\n                {loading ? 'Logging in...' : 'Log In'}\n              </Button>\n            </Form>\n\n            <div className=\"w-100 text-center mt-3\">\n              <Link to=\"/forgot-password\">Forgot Password?</Link>\n            </div>\n          </Card.Body>\n        </Card>\n\n        <div className=\"w-100 text-center mt-2\">\n          Need an account? <Link to=\"/register\">Register</Link>\n        </div>\n      </div>\n    </Container>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}